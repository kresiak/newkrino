<ngb-tabset *ngIf="snapshot">
    <ngb-tab title="Info" id="tabInfo">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block gg-line-height">
                    <div class="row">
                        <div class="col-sm-3 vcenter"><b>Service name</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.data.name}}</div>
                        <div class="col-sm-3 vcenter"><b>Description</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.description}}</div>
                        <div class="col-sm-3 vcenter"><b>Version</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.version}}</div>
                    </div>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Service steps" id="tabSteps">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-platform-service-step-list [clientType]="'standard'" [serviceId]="snapshot._id" [isSnapshot]="true"></gg-platform-service-step-list>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Prices" id="tabPrices">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <ngb-accordion [closeOthers]="true">
                        <ngb-panel [disabled]="true">
                            <template ngbPanelTitle>
                                <div class="row">
                                    <div class="col-sm-3"><b>Client Type</b></div>
                                    <div class="col-sm-2"><b>Cost</b></div>
                                </div>
                            </template>
                        </ngb-panel>
                        <ngb-panel *ngFor="let clientType of clientListObservable |async">
                            <!--FOR-->
                            <template ngbPanelTitle>
                                <div class="row">
                                    <div class="col-sm-3">{{clientType.name}}</div>
                                    <div class="col-sm-2 gg-price">{{getTotalForClientTypeId(clientType.id) | currency:'EUR':true:'1.2-2'}}</div>
                                </div>
                            </template>
                            <template ngbPanelContent>
                                <ngb-accordion [closeOthers]="true">
                                    <ngb-panel [disabled]="true">
                                        <template ngbPanelTitle>
                                            <div class="row">
                                                <div class="col-sm-3"><b>Step</b></div>
                                                <div class="col-sm-2"><b>Cost</b></div>
                                            </div>
                                        </template>
                                    </ngb-panel>
                                    <ngb-panel *ngFor="let step of snapshotSteps">
                                        <!--FOR-->
                                        <template ngbPanelTitle>
                                            <div class="row">
                                                <div class="col-sm-3">{{step.data.name}}</div>
                                                <div class="col-sm-2 gg-price">{{getTotalForStepAndClientTypeId(step, clientType.id) | currency:'EUR':true:'1.2-2'}}</div>
                                            </div>
                                        </template>
                                        <template ngbPanelContent>
                                            <gg-platform-service-step-client-type-cost [serviceStep]="step" [clientType]="getInfoForStepAndClientTypeId(step, clientType.id)"></gg-platform-service-step-client-type-cost>
                                        </template>
                                    </ngb-panel>
                                </ngb-accordion>

                            </template>
                        </ngb-panel>
                    </ngb-accordion>

                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Disable snapshot" id="tabDisableSnapshot" *ngIf="!snapshot.isDisabled">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <div class="col-sm-11">
                            <p>This action will disable the snapshot. Are you sure you want to do that? If yes, click the button
                                below.
                            </p>
                        </div>
                        <div class="col-sm-3 col-md-2 col-lg-2" *ngIf="!snapshot.confirmation">
                            <button class="btn btn-warning" (click)="snapshot.confirmation = true">Disable the snapshot</button>
                        </div>
                        <div class="col-sm-11 col-md-10 col-lg-10" *ngIf="snapshot.confirmation">
                            <button class="btn btn-danger" (click)="enableDisableSnapshot(true, snapshot)">Now I will disable the snapshot</button>
                            <button class="btn btn-success" (click)="snapshot.confirmation = false">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Reactivate snapshot" id="tabReactivateStep" *ngIf="snapshot.isDisabled">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <div class="col-sm-11">
                            <p>If you want to reactivate the snapshot, click the button below.</p>
                        </div>
                        <div class="col-sm-3 col-md-2 col-lg-2">
                            <button class="btn btn-warning" (click)="enableDisableSnapshot(false, snapshot)">Now I will reactivate the snapshot</button>
                        </div>
                    </div>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Product associated" id="tabLinkToProduct" *ngIf="snapshot.productId">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-product-detail [productObservable]="getAnnotatedProductsById(snapshot.productId)"></gg-product-detail>
                    <!--                    <div class="container-fluid">
                        <form [formGroup]="linkToProductForm" (ngSubmit)="saveLinkToProductForm(linkToProductForm.value, linkToProductForm.valid)">
                            <div class="form-group row">
                                <label for="nameOfLink" class="col-sm-2 col-form-label col-xl-2">name:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" formControlName="nameOfLink" id="nameOfLink" placeholder="name">
                                </div>
                            </div>
                            <div class="form-group row">
                                <label for="description" class="col-sm-2 col-form-label col-xl-2">description:</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control" formControlName="description" id="description" placeholder="description">
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-3 col-md-2 col-lg-2">
                                    <button class="btn btn-success" type="submit" [disabled]="!linkToProductForm.valid">Submit</button>
                                </div>
                                <div class="col-sm-3 col-md-2 col-lg-2">
                                    <button class="btn btn-info" [disabled]="linkToProductForm.pristine" (click)="resetLinkToProductForm()">Reset</button>
                                </div>
                            </div>
                        </form>
                    </div>
-->
                </div>
            </div>
        </template>
    </ngb-tab>
</ngb-tabset>
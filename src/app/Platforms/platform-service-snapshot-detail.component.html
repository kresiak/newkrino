<ngb-tabset *ngIf="snapshot">
    <ngb-tab title="Info" id="tabInfo">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block gg-line-height">
                    <div class="row">
                        <div class="col-sm-3 vcenter"><b>Service name</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.data.name}}</div>
                        <div class="col-sm-3 vcenter"><b>Description</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.description}}</div>
                        <div class="col-sm-3 vcenter"><b>Version</b></div>
                        <div class="col-sm-8 vcenter">{{snapshot.version}}</div>
                    </div>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Service steps" id="tabSteps">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-platform-service-step-list [clientType]="'standard'" [serviceId]="snapshot._id" [isSnapshot]="true"></gg-platform-service-step-list>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Prices" id="tabPrices">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <ngb-accordion [closeOthers]="true">
                        <ngb-panel [disabled]="true">
                            <template ngbPanelTitle>
                                <div class="row">
                                    <div class="col-sm-3"><b>Client Type</b></div>
                                    <div class="col-sm-2"><b>Cost</b></div>
                                </div>
                            </template>
                        </ngb-panel>
                        <ngb-panel *ngFor="let clientType of clientListObservable |async">
                            <!--FOR-->
                            <template ngbPanelTitle>
                                <div class="row">
                                    <div class="col-sm-3">{{clientType.name}}</div>
                                    <div class="col-sm-2 gg-price">{{getTotalForClientTypeId(clientType.id) | currency:'EUR':true:'1.2-2'}}</div>
                                </div>
                            </template>
                            <template ngbPanelContent>
                                <ngb-accordion [closeOthers]="true">
                                    <ngb-panel [disabled]="true">
                                        <template ngbPanelTitle>
                                            <div class="row">
                                                <div class="col-sm-3"><b>Step</b></div>
                                                <div class="col-sm-2"><b>Cost</b></div>
                                            </div>
                                        </template>
                                    </ngb-panel>
                                    <ngb-panel *ngFor="let step of snapshotSteps">
                                        <!--FOR-->
                                        <template ngbPanelTitle>
                                            <div class="row">
                                                <div class="col-sm-3">{{step.data.name}}</div>
                                                <div class="col-sm-2 gg-price">{{getTotalForStepAndClientTypeId(step, clientType.id) | currency:'EUR':true:'1.2-2'}}</div>
                                            </div>
                                        </template>
                                        <template ngbPanelContent>
                                            <gg-platform-service-step-client-type-cost [serviceStep]="step" [clientType]="getInfoForStepAndClientTypeId(step, clientType.id)"></gg-platform-service-step-client-type-cost>
                                        </template>
                                    </ngb-panel>
                                </ngb-accordion>

                            </template>
                        </ngb-panel>
                    </ngb-accordion>

                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Disable snapshot" id="tabDisableSnapshot" *ngIf="!snapshot.isDisabled">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-button-action-confirm (doAction)="enableDisableSnapshot(true, snapshot)" [typeObjectKey]="'GENERAL.OBJECT.SNAPSHOT'" [typeActionKey]="'GENERAL.ACTION.DISABLE'"></gg-button-action-confirm>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Reactivate snapshot" id="tabReactivateStep" *ngIf="snapshot.isDisabled">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-button-action-confirm (doAction)="enableDisableSnapshot(false, snapshot)" [typeObjectKey]="'GENERAL.OBJECT.SNAPSHOT'" [typeActionKey]="'GENERAL.ACTION.REACTIVATE'"></gg-button-action-confirm>
                </div>
            </div>
        </template>
    </ngb-tab>
    <ngb-tab title="Product associated" id="tabLinkToProduct" *ngIf="snapshot.productId">
        <template ngbTabContent>
            <div class="card">
                <div class="card-block">
                    <gg-product-detail [productObservable]="getAnnotatedProductsById(snapshot.productId)"></gg-product-detail>
                </div>
            </div>
        </template>
    </ngb-tab>
</ngb-tabset>
<template #popContent>{{isRoot ? 'Click here to go back to last view' : 'Click here to get a detail view'}}</template>

<div>
    <ngb-tabset *ngIf="sapItem" (tabChange)="beforeTabChange($event)" [activeId]="state.selectedTabId">
        <ngb-tab title="Details" id="tabDetails">
            <template ngbTabContent>
                <div class="card">
                    <div class="card-block">
                        <div class= "row">
                            <div class="col-sm-2">Total without vat:</div>
                            <div class="col-sm-3">{{sapItem.annotation.totalHtva | currency:'EUR':true:'1.2-2'}}</div>
                        </div>
                        <div class= "row">
                            <div class="col-sm-2">Total including vat:</div>
                            <div class="col-sm-3">{{sapItem.annotation.totalTvac | currency:'EUR':true:'1.2-2'}}</div>
                        </div>
                    </div>
                </div>
            </template>
        </ngb-tab>
        <ngb-tab title="Engaged" id="tabEngaged" *ngIf="sapEngage">
            <template ngbTabContent>
                <gg-sap-sheet [sapItem]="sapEngage.data"></gg-sap-sheet>
            </template>
        </ngb-tab>
        <ngb-tab title="Invoiced" id="tabInvoiced" *ngIf="sapFacture">
            <template ngbTabContent>
                <gg-sap-sheet [sapItem]="sapFacture.data"></gg-sap-sheet>
            </template>
        </ngb-tab>
        <ngb-tab id="tabMax">
            <template ngbTabTitle><img src="../../images/maximize.png" [ngbPopover]="popContent" triggers="mouseenter:mouseleave" /></template>
            <template ngbTabContent></template>
        </ngb-tab>
        <ngb-tab id="gotoTop" *ngIf="!isRoot && path!=='dashboard'">
            <template ngbTabTitle><img src="../../images/gototop.png" ngbPopover="Goto top of the page" triggers="mouseenter:mouseleave" /></template>
            <template ngbTabContent></template>
        </ngb-tab>

    </ngb-tabset>
</div>